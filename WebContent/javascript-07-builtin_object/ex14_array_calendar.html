<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ë‹¬ë ¥</title>
    <script>
      function calendar() {
        var objYear = document.getElementById("inputYear");
        var objMonth = document.getElementById("inputMonth");
        var objResult = document.getElementById("resultLayout");

        //ğŸ‘Ÿ STEP1. ìë¦¿ìˆ˜ ê²€ì‚¬
        if (!/^(\d){4}$/g.test(objYear.value)) {
          objYear.focus();
          alert("ì—°ë„ë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
          return;
        }

        if (!/^(\d){1,2}$/g.test(objMonth.value)) {
          objMonth.focus();
          alert("ì›”ì„ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
          return;
        }

        //ğŸ‘Ÿ STEP2. ë‚ ì§œ ìœ íš¨ì„± ê²€ì‚¬
        var y = parseInt(objYear.value);
        var m = parseInt(objMonth.value);
        if (m < 1 || m > 12) {
          objMonth.focus();
          alert("ë‚ ì§œë¥¼ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥í•´ ì£¼ì„¸ìš”.");
          return;
        }

        objResult.innerHTML = calendarCreate(y, m);
      }

      function calendarCreate(y, m) {
        var now = new Date();
        var ny = now.getFullYear();
        var nm = now.getMonth() + 1;
        var nd = now.getDate();

        var date = new Date(y, m - 1, 1);
        var w = date.getDay(); //ìš”ì¼(0:ì¼ìš”ì¼, 6:í† ìš”ì¼)

        var week = ["ì¼", "ì›”", "í™”", "ìˆ˜", "ëª©", "ê¸ˆ", "í† "];
        var html = "";
        html = `<table border="1" style="margin: 10px auto; width: 210px; border-spacing: 0; border-collapse: collapse;">`;
        //ğŸˆ ìš”ì¼ í—¤ë”
        html += `<tr align="center" height="25">`;
        var color;

        for (var i = 0; i < week.length; i++) {
          color = i == 0 ? "red" : i == 6 ? "blue" : "black";
          html += `<td width="30" style="color:${color};">${week[i]}</td>`;
        }
        html += `</tr>`;
        //ğŸˆ ë³¸ë¬¸ ì‹œì‘ ì „ ê³µë°±ì²˜ë¦¬
        html += `<tr align="center" height="25">`;
        for (var i = 0; i < w; i++) {
          html += `<td style="background-color:#d9d9d9">&nbsp;</td>`;
        }
        // html += `</tr>`;
        var n = 1;
        // html += `<tr align="center" height="25">`;
        // ğŸˆ ë‚ ì§œ ê·¸ë¦¬ê¸°
        while (true) {
          if (y == ny && m == nm && n == nd) {
            //ì˜¤ëŠ˜
            color = "green";
          } else {
            color = w % 7 == 0 ? "red" : w % 7 == 6 ? "blue" : "black";
          }
          html += `<td width="30" style="text-align:center;color:${color};">${n}</td>`;
          n++;
          //   date = new Date(y, m - 1, n);
          date.setDate(n);
          if (date.getMonth() + 1 != m) {
            // ğŸ‡ ë§ì¼ êµ¬í•˜ê¸°
            break;
          }
          w++;
          if (w % 7 == 0) {
            html += `</tr><tr align="center" height="25">`;
          }
        }

        for (var i = w % 7; i < 6; i++) {
          html += `<td style="background-color:#d9d9d9">&nbsp;</td>`;
        }
        html += `</tr>`;

        html += `</table>`;
        return html;
      }
    </script>
  </head>
  <body>
    <div>
      <input type="text" id="inputYear" placeholder="ì—°ë„" />
      <input type="text" id="inputMonth" placeholder="ì›”" />
      <button type="button" onclick="calendar()">í™•ì¸</button>
    </div>
    <hr />
    <div id="resultLayout"></div>
  </body>
</html>
